{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.199.0"},"children":{"CalorieApiInfrastructureStack":{"id":"CalorieApiInfrastructureStack","path":"CalorieApiInfrastructureStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.199.0"},"children":{"CalorieAppVpc":{"id":"CalorieAppVpc","path":"CalorieApiInfrastructureStack/CalorieAppVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieAppVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcpublicSubnet1RouteTable49302F5D"},"subnetId":{"Ref":"CalorieAppVpcpublicSubnet1Subnet75B7B004"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"CalorieAppVpcIGWD095B839"},"routeTableId":{"Ref":"CalorieAppVpcpublicSubnet1RouteTable49302F5D"}}}},"EIP":{"id":"EIP","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["CalorieAppVpcpublicSubnet1EIPC911AB69","AllocationId"]},"subnetId":{"Ref":"CalorieAppVpcpublicSubnet1Subnet75B7B004"},"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet1"}]}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcpublicSubnet2RouteTable5C899FC3"},"subnetId":{"Ref":"CalorieAppVpcpublicSubnet2SubnetC939A885"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"CalorieAppVpcIGWD095B839"},"routeTableId":{"Ref":"CalorieAppVpcpublicSubnet2RouteTable5C899FC3"}}}}}},"publicSubnet3":{"id":"publicSubnet3","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcpublicSubnet3RouteTable22B7FCFE"},"subnetId":{"Ref":"CalorieAppVpcpublicSubnet3SubnetD8905E29"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CalorieApiInfrastructureStack/CalorieAppVpc/publicSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"CalorieAppVpcIGWD095B839"},"routeTableId":{"Ref":"CalorieAppVpcpublicSubnet3RouteTable22B7FCFE"}}}}}},"privateSubnet1":{"id":"privateSubnet1","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcprivateSubnet1RouteTableA4C4C21C"},"subnetId":{"Ref":"CalorieAppVpcprivateSubnet1Subnet003FD2BF"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"CalorieAppVpcpublicSubnet1NATGateway490E7486"},"routeTableId":{"Ref":"CalorieAppVpcprivateSubnet1RouteTableA4C4C21C"}}}}}},"privateSubnet2":{"id":"privateSubnet2","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcprivateSubnet2RouteTableEA09CA9E"},"subnetId":{"Ref":"CalorieAppVpcprivateSubnet2SubnetAA2C170C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"CalorieAppVpcpublicSubnet1NATGateway490E7486"},"routeTableId":{"Ref":"CalorieAppVpcprivateSubnet2RouteTableEA09CA9E"}}}}}},"privateSubnet3":{"id":"privateSubnet3","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcprivateSubnet3RouteTableC2CA7FAD"},"subnetId":{"Ref":"CalorieAppVpcprivateSubnet3Subnet8804B7AC"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CalorieApiInfrastructureStack/CalorieAppVpc/privateSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"CalorieAppVpcpublicSubnet1NATGateway490E7486"},"routeTableId":{"Ref":"CalorieAppVpcprivateSubnet3RouteTableC2CA7FAD"}}}}}},"isolatedSubnet1":{"id":"isolatedSubnet1","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.6.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcisolatedSubnet1RouteTableED91E35A"},"subnetId":{"Ref":"CalorieAppVpcisolatedSubnet1Subnet8A39A3D4"}}}}}},"isolatedSubnet2":{"id":"isolatedSubnet2","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.7.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcisolatedSubnet2RouteTable02B862BD"},"subnetId":{"Ref":"CalorieAppVpcisolatedSubnet2SubnetA36AB39F"}}}}}},"isolatedSubnet3":{"id":"isolatedSubnet3","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.199.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.8.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"Acl":{"id":"Acl","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CalorieApiInfrastructureStack/CalorieAppVpc/isolatedSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"CalorieAppVpcisolatedSubnet3RouteTable1425916A"},"subnetId":{"Ref":"CalorieAppVpcisolatedSubnet3Subnet1FA0D76E"}}}}}},"IGW":{"id":"IGW","path":"CalorieApiInfrastructureStack/CalorieAppVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CalorieApiInfrastructureStack/CalorieAppVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"CalorieApiInfrastructureStack/CalorieAppVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"CalorieAppVpcIGWD095B839"},"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"CalorieApiInfrastructureStack/CalorieAppVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.199.0","metadata":[]},"children":{"Default":{"id":"Default","path":"CalorieApiInfrastructureStack/CalorieAppVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.199.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"CalorieApiInfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.199.0"},"children":{"Staging":{"id":"Staging","path":"CalorieApiInfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.199.0"}},"Role":{"id":"Role","path":"CalorieApiInfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.199.0"}},"Handler":{"id":"Handler","path":"CalorieApiInfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.199.0"}}}},"DatabaseSecurityGroup":{"id":"DatabaseSecurityGroup","path":"CalorieApiInfrastructureStack/DatabaseSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/DatabaseSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for RDS PostgreSQL database","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}},"from CalorieApiInfrastructureStackLambdaSecurityGroupD732B9C9:5432":{"id":"from CalorieApiInfrastructureStackLambdaSecurityGroupD732B9C9:5432","path":"CalorieApiInfrastructureStack/DatabaseSecurityGroup/from CalorieApiInfrastructureStackLambdaSecurityGroupD732B9C9:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Lambda to connect to PostgreSQL","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]},"toPort":5432}}}}},"LambdaSecurityGroup":{"id":"LambdaSecurityGroup","path":"CalorieApiInfrastructureStack/LambdaSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/LambdaSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Lambda functions","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"CalorieAppVpc015C7D8B"}}}}}},"DatabaseCredentials":{"id":"DatabaseCredentials","path":"CalorieApiInfrastructureStack/DatabaseCredentials","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/DatabaseCredentials/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Credentials for the calorie tracking database","generateSecretString":{"secretStringTemplate":"{\"username\":\"postgres\"}","generateStringKey":"password","excludeCharacters":"\"@/\\"}}}},"Attachment":{"id":"Attachment","path":"CalorieApiInfrastructureStack/DatabaseCredentials/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/DatabaseCredentials/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DatabaseCredentials8547B3E7"},"targetId":{"Ref":"CalorieDatabase40E7B4B2"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"CalorieDatabase":{"id":"CalorieDatabase","path":"CalorieApiInfrastructureStack/CalorieDatabase","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.199.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"CalorieApiInfrastructureStack/CalorieDatabase/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.199.0","metadata":[]},"children":{"Default":{"id":"Default","path":"CalorieApiInfrastructureStack/CalorieDatabase/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for CalorieDatabase database","subnetIds":[{"Ref":"CalorieAppVpcisolatedSubnet1Subnet8A39A3D4"},{"Ref":"CalorieAppVpcisolatedSubnet2SubnetA36AB39F"},{"Ref":"CalorieAppVpcisolatedSubnet3Subnet1FA0D76E"}]}}}}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieDatabase/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"100","backupRetentionPeriod":7,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbName":"caloriedb","dbSubnetGroupName":{"Ref":"CalorieDatabaseSubnetGroup37785E39"},"deletionProtection":false,"engine":"postgres","engineVersion":"15.4","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseCredentials8547B3E7"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseCredentials8547B3E7"},":SecretString:password::}}"]]},"publiclyAccessible":false,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]}]}}}}},"CalorieAppUserPool":{"id":"CalorieAppUserPool","path":"CalorieApiInfrastructureStack/CalorieAppUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieAppUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"schema":[{"name":"email","mutable":true,"required":true}],"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"calorie-app-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"CalorieAppUserPoolClient":{"id":"CalorieAppUserPoolClient","path":"CalorieApiInfrastructureStack/CalorieAppUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieAppUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"calorie-app-client","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"CalorieAppUserPool9E7FF995"}}}}}},"CalorieApiFunction":{"id":"CalorieApiFunction","path":"CalorieApiInfrastructureStack/CalorieApiFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.199.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CalorieApiInfrastructureStack/CalorieApiFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.199.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CalorieApiInfrastructureStack/CalorieApiFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApiFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CalorieApiInfrastructureStack/CalorieApiFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApiFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Ref":"DatabaseCredentials8547B3E7"}},{"Action":["rds:Connect","rds:DescribeDBInstances"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:rds:us-east-2:850960379692:db:",{"Ref":"CalorieDatabase40E7B4B2"}]]}}],"Version":"2012-10-17"},"policyName":"CalorieApiFunctionServiceRoleDefaultPolicy0B837CAB","roles":[{"Ref":"CalorieApiFunctionServiceRole8AAD1C88"}]}}}}}}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApiFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n        const { Client } = require('pg');\n        \n        exports.handler = async (event) => {\n          console.log('Event:', JSON.stringify(event, null, 2));\n          \n          const headers = {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Headers': 'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token',\n            'Access-Control-Allow-Methods': 'GET,POST,PUT,DELETE,OPTIONS',\n            'Content-Type': 'application/json'\n          };\n\n          if (event.httpMethod === 'OPTIONS') {\n            return {\n              statusCode: 200,\n              headers,\n              body: JSON.stringify({ message: 'CORS preflight successful' })\n            };\n          }\n\n          try {\n            // This is a demonstration function\n            // In the actual implementation, this would connect to PostgreSQL\n            const mockFoods = [\n              { id: 1, name: 'Apple', calories: 95 },\n              { id: 2, name: 'Banana', calories: 105 },\n              { id: 3, name: 'Chicken Breast (100g)', calories: 165 }\n            ];\n\n            return {\n              statusCode: 200,\n              headers,\n              body: JSON.stringify({\n                success: true,\n                data: mockFoods,\n                message: 'Food items retrieved successfully',\n                source: 'cdk-demo'\n              })\n            };\n          } catch (error) {\n            return {\n              statusCode: 500,\n              headers,\n              body: JSON.stringify({\n                success: false,\n                error: 'Internal server error',\n                details: error.message\n              })\n            };\n          }\n        };\n      "},"environment":{"variables":{"DB_SECRET_ARN":{"Ref":"DatabaseCredentials8547B3E7"},"DB_ENDPOINT":{"Fn::GetAtt":["CalorieDatabase40E7B4B2","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["CalorieDatabase40E7B4B2","Endpoint.Port"]},"DB_NAME":"caloriedb"}},"handler":"index.handler","role":{"Fn::GetAtt":["CalorieApiFunctionServiceRole8AAD1C88","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"CalorieAppVpcprivateSubnet1Subnet003FD2BF"},{"Ref":"CalorieAppVpcprivateSubnet2SubnetAA2C170C"},{"Ref":"CalorieAppVpcprivateSubnet3Subnet8804B7AC"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}}}},"CalorieApi":{"id":"CalorieApi","path":"CalorieApiInfrastructureStack/CalorieApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for calorie tracking application","name":"Calorie Tracking API"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"CalorieApiInfrastructureStack/CalorieApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.199.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"CalorieApiInfrastructureStack/CalorieApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.199.0","metadata":[]}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"CalorieApiInfrastructureStack/CalorieApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["CalorieApiCloudWatchRole9B6C8484","Arn"]}}}},"Deployment":{"id":"Deployment","path":"CalorieApiInfrastructureStack/CalorieApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for calorie tracking application","restApiId":{"Ref":"CalorieApi7627DA82"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"CalorieApiInfrastructureStack/CalorieApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CalorieApiDeployment7EF5901Cf3af3c8ca5543a1019c38a58950fe604"},"restApiId":{"Ref":"CalorieApi7627DA82"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"CalorieApiInfrastructureStack/CalorieApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"Default":{"id":"Default","path":"CalorieApiInfrastructureStack/CalorieApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.199.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"CalorieApiInfrastructureStack/CalorieApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["CalorieApi7627DA82","RootResourceId"]},"restApiId":{"Ref":"CalorieApi7627DA82"}}}}}},"foods":{"id":"foods","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CalorieApi7627DA82","RootResourceId"]},"pathPart":"foods","restApiId":{"Ref":"CalorieApi7627DA82"}}}},"OPTIONS":{"id":"OPTIONS","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CalorieApifoodsDBC8776E"},"restApiId":{"Ref":"CalorieApi7627DA82"}}}}}},"GET":{"id":"GET","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.199.0","metadata":[]},"children":{"ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.GET..foods":{"id":"ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.GET..foods","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/GET/ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.GET..foods","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:850960379692:",{"Ref":"CalorieApi7627DA82"},"/",{"Ref":"CalorieApiDeploymentStageprodA74D9FB7"},"/GET/foods"]]}}}},"ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.GET..foods":{"id":"ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.GET..foods","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/GET/ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.GET..foods","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:850960379692:",{"Ref":"CalorieApi7627DA82"},"/test-invoke-stage/GET/foods"]]}}}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CalorieApifoodsDBC8776E"},"restApiId":{"Ref":"CalorieApi7627DA82"}}}}}},"POST":{"id":"POST","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.199.0","metadata":[]},"children":{"ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.POST..foods":{"id":"ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.POST..foods","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/POST/ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.POST..foods","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:850960379692:",{"Ref":"CalorieApi7627DA82"},"/",{"Ref":"CalorieApiDeploymentStageprodA74D9FB7"},"/POST/foods"]]}}}},"ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.POST..foods":{"id":"ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.POST..foods","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/POST/ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.POST..foods","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:850960379692:",{"Ref":"CalorieApi7627DA82"},"/test-invoke-stage/POST/foods"]]}}}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CalorieApifoodsDBC8776E"},"restApiId":{"Ref":"CalorieApi7627DA82"}}}}}},"{proxy+}":{"id":"{proxy+}","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CalorieApifoodsDBC8776E"},"pathPart":"{proxy+}","restApiId":{"Ref":"CalorieApi7627DA82"}}}},"OPTIONS":{"id":"OPTIONS","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.199.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CalorieApifoodsproxy715F8E44"},"restApiId":{"Ref":"CalorieApi7627DA82"}}}}}},"ANY":{"id":"ANY","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/ANY","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.199.0","metadata":[]},"children":{"ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.ANY..foods.{proxy+}":{"id":"ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.ANY..foods.{proxy+}","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/ANY/ApiPermission.CalorieApiInfrastructureStackCalorieApi09F47C67.ANY..foods.{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:850960379692:",{"Ref":"CalorieApi7627DA82"},"/",{"Ref":"CalorieApiDeploymentStageprodA74D9FB7"},"/*/foods/*"]]}}}},"ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.ANY..foods.{proxy+}":{"id":"ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.ANY..foods.{proxy+}","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/ANY/ApiPermission.Test.CalorieApiInfrastructureStackCalorieApi09F47C67.ANY..foods.{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:850960379692:",{"Ref":"CalorieApi7627DA82"},"/test-invoke-stage/*/foods/*"]]}}}},"Resource":{"id":"Resource","path":"CalorieApiInfrastructureStack/CalorieApi/Default/foods/{proxy+}/ANY/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.199.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"ANY","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CalorieApiFunction81E7E8DE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CalorieApifoodsproxy715F8E44"},"restApiId":{"Ref":"CalorieApi7627DA82"}}}}}}}}}}}}}},"UserPoolId":{"id":"UserPoolId","path":"CalorieApiInfrastructureStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"CalorieApiInfrastructureStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"CalorieApiInfrastructureStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"CalorieApiInfrastructureStack/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"DatabaseSecretArn":{"id":"DatabaseSecretArn","path":"CalorieApiInfrastructureStack/DatabaseSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"VpcId":{"id":"VpcId","path":"CalorieApiInfrastructureStack/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.199.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CalorieApiInfrastructureStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"CalorieApiInfrastructureStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.199.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CalorieApiInfrastructureStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.199.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CalorieApiInfrastructureStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.199.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}